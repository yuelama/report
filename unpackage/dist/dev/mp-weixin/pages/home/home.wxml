<view class="page data-v-92bb8f34"><view class="tabs data-v-92bb8f34"><view data-event-opts="{{[['tap',[['switchTab',['new']]]]]}}" class="{{['tab-item','data-v-92bb8f34',(activeTab==='new')?'active':'']}}" bindtap="__e"> 新建报告 </view><view data-event-opts="{{[['tap',[['switchTab',['history']]]]]}}" class="{{['tab-item','data-v-92bb8f34',(activeTab==='history')?'active':'']}}" bindtap="__e"> 历史报告 </view></view><block wx:if="{{activeTab==='new'}}"><view class="card form-card data-v-92bb8f34"><view class="form-item data-v-92bb8f34"><text class="label data-v-92bb8f34">标题</text><input class="input data-v-92bb8f34" type="text" placeholder="请输入工作报告标题" data-event-opts="{{[['input',[['__set_model',['$0','title','$event',[]],['form']]]]]}}" value="{{form.title}}" bindinput="__e"/></view><view class="form-item data-v-92bb8f34"><text class="label data-v-92bb8f34">报告日期</text><picker mode="date" value="{{form.date}}" data-event-opts="{{[['change',[['onDateChange',['$event']]]]]}}" bindchange="__e" class="data-v-92bb8f34"><view class="{{['input','picker-input','data-v-92bb8f34',(!form.date)?'placeholder':'']}}">{{''+(form.date||'请选择报告日期')+''}}</view></picker></view><view class="form-item data-v-92bb8f34"><text class="label data-v-92bb8f34">工作内容</text><textarea class="textarea data-v-92bb8f34" placeholder="请填写今日主要工作内容、进展情况等" auto-height="{{true}}" data-event-opts="{{[['input',[['__set_model',['$0','content','$event',[]],['form']]]]]}}" value="{{form.content}}" bindinput="__e"></textarea></view><button class="submit-btn data-v-92bb8f34" type="primary" data-event-opts="{{[['tap',[['submitReport',['$event']]]]]}}" bindtap="__e"> 提交报告（仅前端示例） </button></view></block><block wx:if="{{activeTab==='history'}}"><view class="card list-card data-v-92bb8f34"><view class="card-title data-v-92bb8f34">历史报告</view><block wx:if="{{$root.g0===0}}"><view class="empty-text data-v-92bb8f34"> 暂无报告记录 </view></block><block wx:else><scroll-view class="list-scroll data-v-92bb8f34" scroll-y="true"><block wx:for="{{reports}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['viewDetail',['$0'],[[['reports','id',item.id]]]]]]]}}" class="report-item data-v-92bb8f34" bindtap="__e"><view class="report-main data-v-92bb8f34"><view class="report-title data-v-92bb8f34">{{item.title}}</view><view class="report-date data-v-92bb8f34">{{item.date}}</view></view><view class="report-status data-v-92bb8f34"><text class="{{['status-tag','data-v-92bb8f34',item.leaderComment?'status-done':'status-pending']}}">{{''+(item.leaderComment?'已批复':'待批复')+''}}</text></view></view></block></scroll-view></block></view></block><block wx:if="{{activeTab==='history'&&selectedReport}}"><view class="card detail-card data-v-92bb8f34"><view class="detail-header data-v-92bb8f34"><view class="card-title data-v-92bb8f34">报告详情</view><text data-event-opts="{{[['tap',[['closeDetail',['$event']]]]]}}" class="detail-close data-v-92bb8f34" bindtap="__e">关闭</text></view><view class="detail-field data-v-92bb8f34"><text class="detail-label data-v-92bb8f34">日期：</text><text class="detail-value data-v-92bb8f34">{{selectedReport.date}}</text></view><view class="detail-field data-v-92bb8f34"><text class="detail-label data-v-92bb8f34">标题：</text><text class="detail-value data-v-92bb8f34">{{selectedReport.title}}</text></view><view class="detail-field detail-content data-v-92bb8f34"><text class="detail-label data-v-92bb8f34">工作内容：</text><text class="detail-value data-v-92bb8f34">{{selectedReport.content}}</text></view><view class="detail-field detail-comment data-v-92bb8f34"><text class="detail-label data-v-92bb8f34">领导批语：</text><text class="detail-value data-v-92bb8f34">{{''+(selectedReport.leaderComment||'暂未批复')+''}}</text></view></view></block></view>